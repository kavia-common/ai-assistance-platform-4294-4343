{"is_source_file": true, "format": "Python", "description": "This file defines a service class for interacting with the OpenAI API, including error handling, message conversion, and chat completion requests. It contains utility functions, custom exceptions, and a core method to generate chat responses.", "external_files": ["app.utils.config", "app.models.schemas", "openai"], "external_methods": ["get_openai_api_key", "get_openai_model"], "published": ["chat_completion"], "classes": [{"name": "OpenAIServiceError", "description": "Custom exception for handling OpenAI-related errors specific to this service"}], "methods": [{"name": "OpenAI _build_client()", "description": "Creates and returns an OpenAI client configured with the API key.", "scope": "", "scopeKind": ""}, {"name": "List[Dict[str,Any]] _to_openai_messages(messages: List[Message])", "description": "Converts internal Message models into the format required by OpenAI chat API.", "scope": "", "scopeKind": ""}, {"name": "str chat_completion(messages: List[Message])", "description": "Main function for requesting a chat completion from OpenAI and returning the assistant's content.", "scope": "", "scopeKind": ""}, {"name": "__init__(self, message: str, *, code: str | None = None, http_status: int | None = None)", "scope": "OpenAIServiceError", "scopeKind": "class", "description": "unavailable"}], "calls": ["get_openai_api_key", "get_openai_model", "client.chat.completions.create"], "search-terms": ["openai_service", "chat_completion", "OpenAI API interaction", "Message model conversion", "custom error handling"], "state": 2, "file_id": 18, "knowledge_revision": 50, "git_revision": "", "ctags": [{"_type": "tag", "name": "OpenAIServiceError", "path": "/home/kavia/workspace/code-generation/ai-assistance-platform-4294-4343/fastapi_backend/app/services/openai_service.py", "pattern": "/^class OpenAIServiceError(Exception):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/ai-assistance-platform-4294-4343/fastapi_backend/app/services/openai_service.py", "pattern": "/^    def __init__(self, message: str, *, code: str | None = None, http_status: int | None = None)/", "language": "Python", "kind": "member", "signature": "(self, message: str, *, code: str | None = None, http_status: int | None = None)", "scope": "OpenAIServiceError", "scopeKind": "class"}, {"_type": "tag", "name": "_build_client", "path": "/home/kavia/workspace/code-generation/ai-assistance-platform-4294-4343/fastapi_backend/app/services/openai_service.py", "pattern": "/^def _build_client() -> OpenAI:$/", "language": "Python", "typeref": "typename:OpenAI", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_to_openai_messages", "path": "/home/kavia/workspace/code-generation/ai-assistance-platform-4294-4343/fastapi_backend/app/services/openai_service.py", "pattern": "/^def _to_openai_messages(messages: List[Message]) -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "function", "signature": "(messages: List[Message])"}, {"_type": "tag", "name": "chat_completion", "path": "/home/kavia/workspace/code-generation/ai-assistance-platform-4294-4343/fastapi_backend/app/services/openai_service.py", "pattern": "/^def chat_completion(messages: List[Message]) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(messages: List[Message])"}], "hash": "49ed52a6ac7ac2750cf1fede7fb9df9e", "format-version": 4, "code-base-name": "fastapi_backend", "filename": "fastapi_backend/app/services/openai_service.py", "revision_history": [{"50": ""}]}